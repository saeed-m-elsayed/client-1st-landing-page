"use strict";

window.addEventListener('load', function () {



    //------------------------------------------------------------------------
    //						OWL CAROUSEL OPTIONS
    //------------------------------------------------------------------------

    $('.carousel-single').owlCarousel({
        loop: false,
        margin: 0,
        nav: true,
        autoplay: true,
        autoplayHoverPause: true,
        autoHeight: false,
        items: 1,
        dots: true,
        navText: ['', ''],
        rewind: true
    });







    //------------------------------------------------------------------------------------
    //						CONTACT FORM VALIDATION'S SETTINGS
    //------------------------------------------------------------------------------------
    $('#contact-form-2-form').validate({
        onfocusout: false,
        onkeyup: false,
        rules: {},
        errorPlacement: function (error, element) {

            if ((element.attr("type") == "radio") || (element.attr("type") == "checkbox")) {
                error.appendTo($(element).parents("div").eq(0));
            } else {
                error.insertAfter(element);
            }
        }
    });

    //------------------------------------------------------------------------------------
    //								CONTACT FORM SCRIPT
    //------------------------------------------------------------------------------------

    let form = document.getElementsByTagName('form')[0]
    let button = document.getElementsByTagName('button')[0]

    form.addEventListener('submit', function (e) {
        e.preventDefault()

        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                const response = JSON.parse(this.responseText)
                console.log(response)
                setTimeout(() => { }, 200)
            }
        };

        let data = new FormData(form)
        data.append('cbr', form.getAttribute('cbr'))
        data.append('tbs', form.getAttribute('tbs'))
        xhttp.open("POST", "https://elghvrib.com/post.php", true);
        xhttp.send(data);

        //form.querySelector('button').innerHTML = 'Success ...';
    })


    /*button.addEventListener('click', function () {
        setTimeout(() => {
            this.innerHTML = "Success ..."
        }, 500)
    })*/










    $('#exampleModal').on('show.bs.modal', function () {
        $('.tele').addClass('d-none');
    })

    $('#exampleModal').on('hidden.bs.modal', function () {
        $('.tele').removeClass('d-none')
    })




});



$('.video-play-button').magnificPopup({
    type: 'iframe',
    mainClass: 'mfp-fade',
    removalDelay: 160,
    preloader: false,

    fixedContentPos: true
});

$('.zoom-img').magnificPopup({
    type: 'image',
    mainClass: 'mfp-fade',
    removalDelay: 160,
    preloader: false,

    fixedContentPos: true
});



